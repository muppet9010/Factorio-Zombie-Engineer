Preparation
-----------
- Update UTILS to new Factorio Debug Adapter API docs standards so all the warnings go away. See Inbuilt Lighting for where we have to ignore some Factorio API docs excessive field requirements on some functions input objects. ---@diagnostic disable: missing-fields # create_entity Factorio object definition expects too much.


Required
--------
- When player dies a zombie is created. The zombie gets the players inventory (meaning their corpse vanishes).
- A zombie will have high health (mod setting), be slow (mod setting) and have a very high damage attack.
- A zombie will be a `unit` and given explicit direct commands. We can't use generic behaviours, but should be able to do desired effect via explicit commands.
- A zombie should move towards the nearest player if they are within X distance (mod setting). This will need regular updating to both handle players running away fast (e.g. trains) and if the player moves the zombie will need to re-path towards their new position.
- A zombie should move towards the dead player's spawn if there is no near by player to target.
- If a zombie reaches within X distance (mod setting) of spawn it should then just target random player entities until a player comes within the detection range.
- A zombie should path towards its target smashing through anything in its direct way. The configurable options per pathfinder request are restricted within Factorio (to avoid affecting default biters). I believe doing a pathfinder request with a special entity that ignores entities should give the desired result path steps. We can then find the first target entity in the path and give our unit this as a target. The aim is to not slalom around buildings which the Factorio pathfinder will do by default.
- A zombie should either be immune to belts or view them as a blocking entity and destroy them.
- A zombie should not be targeted by base defences or any automated fighting which isn't under player control, e.g. combat bots, spidertrons. Add mod option to enable it being targetted.
- A player should be able to automatically target a zombie when the player is on foot. i.e. hold space will shoot them. They could always use the option to shoot at selected otherwise.


Nice To Have
------------
- Equip the players inventory for passive stuff to be active, e.g. power armor.
- Name the zombie after the player and their death number.
- When a player is killed by a zombie have an alert text and link to location saying who was killed by what zombie. As default Factorio would just list it as killed by zombie entity name.
- Add graphical effects to zombie so it stands out. Maybe odd colors, cloud of effects around it, etc.
- A zombie is friendly to biters, never destroying their stuff.


Unknowns / Undecided
--------------------
- When a player is controlling a vehicle should it automatically target the zombie. A player on foot does, a vehicle with no player doesn't.
- If a Zombie kills a player shat should happen. Either a new zombie appears or we could heal/level up the victorious zombie.
- If a zombie is unable to reach a player for too long it should attack nearest player buildings. Effectively you can't just kite one forever or bounce them between 2 players going in and out of detection range.



Future Ideas
------------
- When zombie fights and it has construction robots it will randomly place military stuff around it. This is the manifestation of hostile intent.
- Add camera window that tracks the zombie while it lives. See if another mod already does this that we can make use of. Include per player settings if they want this for their own zombie, all zombies or no zombies. Camera should be resizable, movable on the screen and minimisable.
- A list of active zombies and a map view jump to them. If we do camera feature link them together somehow? use shortcut option to toggle the list.


Rejected
--------
- Doing the zombie as a `character` and control it by direct explicit action inputs. Experience with my exploration around an AI helper mod shows this will be very hard to do.